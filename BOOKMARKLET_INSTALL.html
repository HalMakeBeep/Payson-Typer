<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Payson Typer Bookmarklet Install</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 760px; margin: 40px auto; padding: 0 16px; line-height: 1.5; }
    .card { border: 1px solid #ddd; border-radius: 10px; padding: 16px; }
    a.bookmarklet { display: inline-block; padding: 10px 14px; border-radius: 8px; background: #1f6feb; color: #fff; text-decoration: none; font-weight: 700; }
    code { display: block; white-space: pre-wrap; word-break: break-all; background: #f6f8fa; border: 1px solid #d0d7de; border-radius: 6px; padding: 10px; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Add Payson Typer To Bookmarks</h1>
  <div class="card">
    <p><strong>Drag this button to your bookmarks bar:</strong></p>
    <p><a id="bm" class="bookmarklet" href="#">Payson Typer (Drag Me)</a></p>
    <p>If drag does not work, copy the code below and paste it into a bookmark URL field.</p>
    <code id="code"></code>
  </div>
  <script>
    const bookmarklet = "javascript:(function()%7B%0D%0A%20%20\u0027use%20strict\u0027%3B%0D%0A%0D%0A%20%20var%20MODAL_ID%20%3D%20\u0027payson-typer-root\u0027%3B%0D%0A%20%20var%20existing%20%3D%20document.getElementById(MODAL_ID)%3B%0D%0A%20%20if%20(existing)%20%7B%20toggleVisible()%3B%20return%3B%20%7D%0D%0A%0D%0A%20%20%2F%2F%20--%20Prefs%20--%0D%0A%20%20function%20savePrefs(p)%20%7B%0D%0A%20%20%20%20var%20s%20%3D%20JSON.stringify(p)%3B%0D%0A%20%20%20%20try%20%7B%20localStorage.setItem(\u0027payson_typer\u0027%2C%20s)%3B%20%7D%20catch(e)%20%7B%7D%0D%0A%20%20%20%20try%20%7B%20document.cookie%20%3D%20\u0027payson_typer%3D\u0027%20%2B%20encodeURIComponent(s)%20%2B%20\u0027%3Bmax-age%3D31536000%3Bpath%3D%2F\u0027%3B%20%7D%20catch(e)%20%7B%7D%0D%0A%20%20%7D%0D%0A%20%20function%20loadPrefs()%20%7B%0D%0A%20%20%20%20try%20%7B%20var%20s%20%3D%20localStorage.getItem(\u0027payson_typer\u0027)%3B%20if%20(s)%20return%20JSON.parse(s)%3B%20%7D%20catch(e)%20%7B%7D%0D%0A%20%20%20%20try%20%7B%0D%0A%20%20%20%20%20%20var%20m%20%3D%20document.cookie.match(%2Fpayson_typer%3D(%5B%5E%3B%5D%2B)%2F)%3B%0D%0A%20%20%20%20%20%20if%20(m)%20return%20JSON.parse(decodeURIComponent(m%5B1%5D))%3B%0D%0A%20%20%20%20%7D%20catch(e)%20%7B%7D%0D%0A%20%20%20%20return%20%7B%20wpm%3A%2080%2C%20accuracy%3A%2095%2C%20variance%3A%2040%2C%20finish%3A%20true%20%7D%3B%0D%0A%20%20%7D%0D%0A%20%20var%20prefs%20%3D%20loadPrefs()%3B%0D%0A%0D%0A%20%20%2F%2F%20--%20CSS%20--%0D%0A%20%20var%20css%20%3D%20%5B%0D%0A%20%20%20%20\u0027%40keyframes%20pt-glow%7B0%25%2C100%25%7Bbox-shadow%3A0%200%2018px%202px%20rgba(168%2C85%2C247%2C.35)%2C0%208px%2040px%20rgba(0%2C0%2C0%2C.7)%7D50%25%7Bbox-shadow%3A0%200%2028px%204px%20rgba(217%2C70%2C239%2C.5)%2C0%208px%2040px%20rgba(0%2C0%2C0%2C.7)%7D%7D\u0027%2C%0D%0A%20%20%20%20\u0027%40keyframes%20pt-shimmer%7B0%25%7Bbackground-position%3A0%25%2050%25%7D100%25%7Bbackground-position%3A200%25%2050%25%7D%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23payson-typer-root%7Bposition%3Afixed%3Btop%3A60px%3Bleft%3A50%25%3Btransform%3AtranslateX(-50%25)%3Bz-index%3A2147483647%3Bfont-family%3A%22Inter%22%2C-apple-system%2CBlinkMacSystemFont%2C%22Segoe%20UI%22%2Csans-serif%3Bwidth%3A310px%3Bmax-width%3A95vw%3B%7D\u0027%2C%0A%20%20%20%20\u0027%23pt-box%7B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027background%3Argba(15%2C10%2C25%2C0.82)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027backdrop-filter%3Ablur(24px)%3B-webkit-backdrop-filter%3Ablur(24px)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027border%3A1px%20solid%20rgba(168%2C85%2C247%2C0.3)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027border-radius%3A18px%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027overflow%3Ahidden%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027animation%3Apt-glow%203s%20ease-in-out%20infinite%3B\u0027%2C%0D%0A%20%20%20%20\u0027%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-header%7B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027padding%3A16px%2018px%2012px%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027cursor%3Agrab%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027border-bottom%3A1px%20solid%20rgba(168%2C85%2C247%2C0.15)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027background%3Argba(168%2C85%2C247%2C0.08)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027position%3Arelative%3B\u0027%2C%0D%0A%20%20%20%20\u0027%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-header%3Aactive%7Bcursor%3Agrabbing%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-title%7B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027margin%3A0%3Bfont-size%3A18px%3Bfont-weight%3A800%3Bletter-spacing%3A-.3px%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027background%3Alinear-gradient(90deg%2C%23e879f9%2C%23a855f7%2C%23ec4899%2C%23a855f7)%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027background-size%3A200%25%20auto%3Banimation%3Apt-shimmer%204s%20linear%20infinite%3B\u0027%2C%0D%0A%20%20%20%20%20%20\u0027-webkit-background-clip%3Atext%3B-webkit-text-fill-color%3Atransparent%3Bbackground-clip%3Atext%3B\u0027%2C%0D%0A%20%20%20%20\u0027%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-subtitle%7Bmargin%3A2px%200%200%3Bfont-size%3A10px%3Bcolor%3Argba(200%2C180%2C255%2C0.4)%3Bletter-spacing%3A.6px%3Bfont-weight%3A600%3Btext-transform%3Auppercase%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-body%7Bpadding%3A16px%2018px%2018px%3B%7D\u0027%2C%0A%20%20%20%20\u0027.pt-label%7Bdisplay%3Aflex%3Bjustify-content%3Aspace-between%3Balign-items%3Acenter%3Bmargin%3A14px%200%207px%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027.pt-label%3Afirst-child%7Bmargin-top%3A0%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027.pt-label-text%7Bfont-size%3A10px%3Bfont-weight%3A700%3Btext-transform%3Auppercase%3Bletter-spacing%3A.9px%3Bcolor%3Argba(200%2C180%2C255%2C0.45)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027.pt-label-val%7Bfont-size%3A12px%3Bfont-weight%3A800%3Bcolor%3Argba(232%2C180%2C255%2C0.9)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%7Bwidth%3A100%25%3B-webkit-appearance%3Anone%3Bappearance%3Anone%3Bheight%3A18px%3Boutline%3Anone%3Bcursor%3Apointer%3Bbackground%3Atransparent%3Btouch-action%3Anone%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-webkit-slider-runnable-track%7Bheight%3A4px%3Bborder-radius%3A999px%3Bbackground%3Argba(168%2C85%2C247%2C0.2)%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-webkit-slider-thumb%7B-webkit-appearance%3Anone%3Bappearance%3Anone%3Bmargin-top%3A-6px%3Bwidth%3A16px%3Bheight%3A16px%3Bborder-radius%3A50%25%3Bbackground%3Alinear-gradient(135deg%2C%23e879f9%2C%23a855f7)%3Bbox-shadow%3A0%202px%208px%20rgba(168%2C85%2C247%2C0.6)%3Bcursor%3Apointer%3Btransition%3Atransform%20.15s%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-webkit-slider-thumb%3Aactive%7Btransform%3Ascale(1.2)%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-moz-range-track%7Bheight%3A4px%3Bborder%3Anone%3Bborder-radius%3A999px%3Bbackground%3Argba(168%2C85%2C247%2C0.2)%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-moz-range-progress%7Bheight%3A4px%3Bborder%3Anone%3Bborder-radius%3A999px%3Bbackground%3Argba(168%2C85%2C247%2C0.45)%3B%7D\u0027%2C%0A%20%20%20%20\u0027input%5Btype%3Drange%5D.pt-range%3A%3A-moz-range-thumb%7Bwidth%3A16px%3Bheight%3A16px%3Bborder-radius%3A50%25%3Bborder%3Anone%3Bbackground%3Alinear-gradient(135deg%2C%23e879f9%2C%23a855f7)%3Bbox-shadow%3A0%202px%208px%20rgba(168%2C85%2C247%2C0.6)%3Bcursor%3Apointer%3B%7D\u0027%2C%0A%20%20%20%20\u0027.pt-check-row%7Bdisplay%3Aflex%3Balign-items%3Acenter%3Bgap%3A9px%3Bmargin-top%3A14px%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027.pt-check-row%20input%5Btype%3Dcheckbox%5D%7Bwidth%3A15px%3Bheight%3A15px%3Bcursor%3Apointer%3Baccent-color%3A%23a855f7%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027.pt-check-row%20label%7Bfont-size%3A12px%3Bcolor%3Argba(200%2C180%2C255%2C0.55)%3Bcursor%3Apointer%3Bfont-weight%3A600%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btns%7Bdisplay%3Aflex%3Bgap%3A8px%3Bmargin-top%3A16px%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-start%7Bflex%3A1%3Bpadding%3A11px%200%3Bborder%3Anone%3Bborder-radius%3A10px%3Bcursor%3Apointer%3Bbackground%3Alinear-gradient(135deg%2C%23a855f7%2C%23ec4899)%3Bfont-size%3A13px%3Bfont-weight%3A800%3Bcolor%3A%23fff%3Bletter-spacing%3A.2px%3Bbox-shadow%3A0%204px%2020px%20rgba(168%2C85%2C247%2C0.4)%3Btransition%3Aopacity%20.15s%2Ctransform%20.1s%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-start%3Ahover%7Bopacity%3A.88%3Btransform%3AtranslateY(-1px)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-start%3Aactive%7Btransform%3AtranslateY(0)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-cancel%7Bpadding%3A11px%2016px%3Bborder-radius%3A10px%3Bcursor%3Apointer%3Bbackground%3Argba(255%2C255%2C255%2C0.04)%3Bborder%3A1px%20solid%20rgba(168%2C85%2C247%2C0.2)%3Bcolor%3Argba(200%2C180%2C255%2C0.45)%3Bfont-size%3A13px%3Bfont-weight%3A700%3Btransition%3Aall%20.15s%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-cancel%3Ahover%7Bcolor%3Argba(200%2C180%2C255%2C0.9)%3Bborder-color%3Argba(168%2C85%2C247%2C0.5)%3Bbackground%3Argba(168%2C85%2C247%2C0.08)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-stop%7Bdisplay%3Anone%3Bwidth%3A100%25%3Bpadding%3A11px%200%3Bborder-radius%3A10px%3Bborder%3A1px%20solid%20rgba(239%2C68%2C68%2C0.3)%3Bcursor%3Apointer%3Bmargin-top%3A10px%3Bfont-size%3A13px%3Bfont-weight%3A800%3Bletter-spacing%3A.2px%3Bbackground%3Argba(239%2C68%2C68%2C0.12)%3Bcolor%3A%23f87171%3Btransition%3Aall%20.15s%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-btn-stop%3Ahover%7Bbackground%3Argba(239%2C68%2C68%2C0.2)%3Bborder-color%3Argba(239%2C68%2C68%2C0.5)%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-progress-wrap%7Bheight%3A3px%3Bbackground%3Argba(168%2C85%2C247%2C0.12)%3Bborder-radius%3A3px%3Bmargin-top%3A12px%3Boverflow%3Ahidden%3Bdisplay%3Anone%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-progress-bar%7Bheight%3A100%25%3Bwidth%3A0%25%3Bborder-radius%3A3px%3Bbackground%3Alinear-gradient(90deg%2C%23a855f7%2C%23ec4899)%3Btransition%3Awidth%20.4s%3B%7D\u0027%2C%0D%0A%20%20%20%20\u0027%23pt-status%7Bmargin-top%3A9px%3Bfont-size%3A11px%3Bfont-weight%3A700%3Bcolor%3Argba(200%2C180%2C255%2C0.4)%3Btext-align%3Acenter%3Bmin-height%3A14px%3Bletter-spacing%3A.3px%3B%7D\u0027%0D%0A%20%20%5D.join(\u0027\u0027)%3B%0D%0A%0D%0A%20%20var%20styleEl%20%3D%20document.createElement(\u0027style\u0027)%3B%0D%0A%20%20styleEl.id%20%3D%20\u0027payson-typer-style\u0027%3B%0D%0A%20%20styleEl.textContent%20%3D%20css%3B%0D%0A%20%20document.head.appendChild(styleEl)%3B%0D%0A%0D%0A%20%20%2F%2F%20--%20DOM%20--%0D%0A%20%20var%20root%20%3D%20document.createElement(\u0027div\u0027)%3B%0D%0A%20%20root.id%20%3D%20MODAL_ID%3B%0D%0A%20%20root.innerHTML%20%3D%0D%0A%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-box%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-header%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cp%20id%3D%22pt-title%22%3EPayson%20Typer%3C%2Fp%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cp%20id%3D%22pt-subtitle%22%3EFor%20TypingClub%20%26mdash%3B%20Made%20By%20Payson%3C%2Fp%3E\u0027%20%2B%0A%20%20%20%20%20%20\u0027%3C%2Fdiv%3E\u0027%20%2B%0A%20%20%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-body%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20class%3D%22pt-label%22%3E%3Cspan%20class%3D%22pt-label-text%22%3ETyping%20Speed%3C%2Fspan%3E%3Cspan%20class%3D%22pt-label-val%22%3E%3Cspan%20id%3D%22pt-wpm-val%22%3E\u0027%20%2B%20prefs.wpm%20%2B%20\u0027%3C%2Fspan%3E%20wpm%3C%2Fspan%3E%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cinput%20type%3D%22range%22%20class%3D%22pt-range%22%20id%3D%22pt-wpm%22%20min%3D%2210%22%20max%3D%22300%22%20value%3D%22\u0027%20%2B%20prefs.wpm%20%2B%20\u0027%22%20step%3D%225%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20class%3D%22pt-label%22%3E%3Cspan%20class%3D%22pt-label-text%22%3EAccuracy%3C%2Fspan%3E%3Cspan%20class%3D%22pt-label-val%22%3E%3Cspan%20id%3D%22pt-acc-val%22%3E\u0027%20%2B%20prefs.accuracy%20%2B%20\u0027%3C%2Fspan%3E%25%3C%2Fspan%3E%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cinput%20type%3D%22range%22%20class%3D%22pt-range%22%20id%3D%22pt-acc%22%20min%3D%2250%22%20max%3D%22100%22%20value%3D%22\u0027%20%2B%20prefs.accuracy%20%2B%20\u0027%22%20step%3D%221%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20class%3D%22pt-label%22%3E%3Cspan%20class%3D%22pt-label-text%22%3ERhythm%20Variance%3C%2Fspan%3E%3Cspan%20class%3D%22pt-label-val%22%3E%3Cspan%20id%3D%22pt-var-val%22%3E\u0027%20%2B%20prefs.variance%20%2B%20\u0027%3C%2Fspan%3E%25%3C%2Fspan%3E%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cinput%20type%3D%22range%22%20class%3D%22pt-range%22%20id%3D%22pt-var%22%20min%3D%220%22%20max%3D%22100%22%20value%3D%22\u0027%20%2B%20prefs.variance%20%2B%20\u0027%22%20step%3D%225%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20class%3D%22pt-check-row%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20\u0027%3Cinput%20type%3D%22checkbox%22%20id%3D%22pt-finish%22\u0027%20%2B%20(prefs.finish%20%3F%20\u0027%20checked\u0027%20%3A%20\u0027\u0027)%20%2B%20\u0027%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20\u0027%3Clabel%20for%3D%22pt-finish%22%3EComplete%20final%20character%20(show%20results)%3C%2Flabel%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-btns%22%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20\u0027%3Cbutton%20id%3D%22pt-btn-cancel%22%3ECancel%3C%2Fbutton%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20%20%20\u0027%3Cbutton%20id%3D%22pt-btn-start%22%3EStart%20Typing%3C%2Fbutton%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cbutton%20id%3D%22pt-btn-stop%22%3EStop%3C%2Fbutton%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-progress-wrap%22%3E%3Cdiv%20id%3D%22pt-progress-bar%22%3E%3C%2Fdiv%3E%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20%20%20\u0027%3Cdiv%20id%3D%22pt-status%22%3E%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20%20%20\u0027%3C%2Fdiv%3E\u0027%20%2B%0D%0A%20%20%20%20\u0027%3C%2Fdiv%3E\u0027%3B%0D%0A%20%20document.body.appendChild(root)%3B%0D%0A%0D%0A%20%20%2F%2F%20--%20Dragging%20--%0D%0A%20%20var%20drag%20%3D%20%7B%20on%3A%20false%2C%20sx%3A%200%2C%20sy%3A%200%2C%20ox%3A%200%2C%20oy%3A%200%20%7D%3B%0A%20%20document.getElementById(\u0027pt-header\u0027).addEventListener(\u0027mousedown\u0027%2C%20function(e)%20%7B%0A%20%20%20%20var%20r%20%3D%20root.getBoundingClientRect()%3B%0A%20%20%20%20root.style.left%20%3D%20r.left%20%2B%20\u0027px\u0027%3B%0A%20%20%20%20root.style.top%20%3D%20r.top%20%2B%20\u0027px\u0027%3B%0A%20%20%20%20root.style.transform%20%3D%20\u0027none\u0027%3B%0D%0A%20%20%20%20drag.on%20%3D%20true%3B%20drag.sx%20%3D%20e.clientX%3B%20drag.sy%20%3D%20e.clientY%3B%0D%0A%20%20%20%20drag.ox%20%3D%20r.left%3B%20drag.oy%20%3D%20r.top%3B%0D%0A%20%20%20%20e.preventDefault()%3B%0D%0A%20%20%7D)%3B%0D%0A%20%20document.addEventListener(\u0027mousemove\u0027%2C%20function(e)%20%7B%0D%0A%20%20%20%20if%20(!drag.on)%20return%3B%0D%0A%20%20%20%20var%20W%20%3D%20window.innerWidth%2C%20H%20%3D%20window.innerHeight%2C%20bw%20%3D%20root.offsetWidth%2C%20bh%20%3D%20root.offsetHeight%3B%0D%0A%20%20%20%20root.style.left%20%3D%20Math.max(0%2C%20Math.min(W%20-%20bw%2C%20drag.ox%20%2B%20e.clientX%20-%20drag.sx))%20%2B%20\u0027px\u0027%3B%0D%0A%20%20%20%20root.style.top%20%20%3D%20Math.max(0%2C%20Math.min(H%20-%20bh%2C%20drag.oy%20%2B%20e.clientY%20-%20drag.sy))%20%2B%20\u0027px\u0027%3B%0D%0A%20%20%7D)%3B%0D%0A%20%20document.addEventListener(\u0027mouseup\u0027%2C%20function()%20%7B%20drag.on%20%3D%20false%3B%20%7D)%3B%0D%0A%0D%0A%20%20%2F%2F%20--%20Toggle%20visibility%20via%20Right%20Shift%20--%0D%0A%20%20function%20toggleVisible()%20%7B%0D%0A%20%20%20%20var%20el%20%3D%20document.getElementById(MODAL_ID)%3B%0D%0A%20%20%20%20if%20(!el)%20return%3B%0D%0A%20%20%20%20el.style.display%20%3D%20el.style.display%20%3D%3D%3D%20\u0027none\u0027%20%3F%20\u0027\u0027%20%3A%20\u0027none\u0027%3B%0D%0A%20%20%7D%0D%0A%20%20document.addEventListener(\u0027keydown\u0027%2C%20function(e)%20%7B%0D%0A%20%20%20%20if%20(e.key%20%3D%3D%3D%20\u0027Shift\u0027%20%26%26%20e.location%20%3D%3D%3D%202)%20toggleVisible()%3B%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20%2F%2F%20--%20Slider%20bindings%20--%0A%20%20function%20bindRange(inputId%2C%20valId)%20%7B%0A%20%20%20%20var%20inp%20%3D%20document.getElementById(inputId)%3B%0A%20%20%20%20var%20val%20%3D%20document.getElementById(valId)%3B%0A%20%20%20%20if%20(!inp%20%7C%7C%20!val)%20return%3B%0A%20%20%20%20inp.addEventListener(\u0027input\u0027%2C%20function()%20%7B%20val.textContent%20%3D%20inp.value%3B%20persist()%3B%20%7D)%3B%0A%20%20%20%20inp.addEventListener(\u0027change\u0027%2C%20function()%20%7B%20val.textContent%20%3D%20inp.value%3B%20persist()%3B%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Fallback%20drag%20handling%20for%20pages%20that%20interfere%20with%20native%20range%20dragging.%0A%20%20%20%20if%20(!window.PointerEvent)%20return%3B%0A%0A%20%20%20%20var%20dragging%20%3D%20false%3B%0A%20%20%20%20function%20setValueFromClientX(clientX)%20%7B%0A%20%20%20%20%20%20var%20rect%20%3D%20inp.getBoundingClientRect()%3B%0A%20%20%20%20%20%20if%20(rect.width%20%3C%3D%200)%20return%3B%0A%20%20%20%20%20%20var%20min%20%3D%20parseFloat(inp.min%20%7C%7C%20\u00270\u0027)%3B%0A%20%20%20%20%20%20var%20max%20%3D%20parseFloat(inp.max%20%7C%7C%20\u0027100\u0027)%3B%0A%20%20%20%20%20%20var%20step%20%3D%20parseFloat(inp.step%20%7C%7C%20\u00271\u0027)%3B%0A%20%20%20%20%20%20if%20(!isFinite(min)%20%7C%7C%20!isFinite(max)%20%7C%7C%20!isFinite(step)%20%7C%7C%20max%20%3C%3D%20min%20%7C%7C%20step%20%3C%3D%200)%20return%3B%0A%20%20%20%20%20%20var%20ratio%20%3D%20(clientX%20-%20rect.left)%20%2F%20rect.width%3B%0A%20%20%20%20%20%20ratio%20%3D%20Math.max(0%2C%20Math.min(1%2C%20ratio))%3B%0A%20%20%20%20%20%20var%20raw%20%3D%20min%20%2B%20ratio%20*%20(max%20-%20min)%3B%0A%20%20%20%20%20%20var%20stepped%20%3D%20min%20%2B%20Math.round((raw%20-%20min)%20%2F%20step)%20*%20step%3B%0A%20%20%20%20%20%20var%20decimals%20%3D%20(String(step).split(\u0027.\u0027)%5B1%5D%20%7C%7C%20\u0027\u0027).length%3B%0A%20%20%20%20%20%20inp.value%20%3D%20stepped.toFixed(decimals)%3B%0A%20%20%20%20%20%20inp.dispatchEvent(new%20Event(\u0027input\u0027%2C%20%7B%20bubbles%3A%20true%20%7D))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20inp.addEventListener(\u0027pointerdown\u0027%2C%20function(e)%20%7B%0A%20%20%20%20%20%20if%20(e.button%20!%3D%3D%200%20%26%26%20e.pointerType%20!%3D%3D%20\u0027touch\u0027%20%26%26%20e.pointerType%20!%3D%3D%20\u0027pen\u0027)%20return%3B%0A%20%20%20%20%20%20dragging%20%3D%20true%3B%0A%20%20%20%20%20%20try%20%7B%20inp.setPointerCapture(e.pointerId)%3B%20%7D%20catch(e)%20%7B%7D%0A%20%20%20%20%20%20setValueFromClientX(e.clientX)%3B%0A%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20inp.addEventListener(\u0027pointermove\u0027%2C%20function(e)%20%7B%0A%20%20%20%20%20%20if%20(!dragging)%20return%3B%0A%20%20%20%20%20%20setValueFromClientX(e.clientX)%3B%0A%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20function%20endPointerDrag(e)%20%7B%0A%20%20%20%20%20%20if%20(!dragging)%20return%3B%0A%20%20%20%20%20%20dragging%20%3D%20false%3B%0A%20%20%20%20%20%20try%20%7B%20inp.releasePointerCapture(e.pointerId)%3B%20%7D%20catch(e)%20%7B%7D%0A%20%20%20%20%7D%0A%20%20%20%20inp.addEventListener(\u0027pointerup\u0027%2C%20endPointerDrag)%3B%0A%20%20%20%20inp.addEventListener(\u0027pointercancel\u0027%2C%20endPointerDrag)%3B%0A%20%20%7D%0A%20%20bindRange(\u0027pt-wpm\u0027%2C%20\u0027pt-wpm-val\u0027)%3B%0D%0A%20%20bindRange(\u0027pt-acc\u0027%2C%20\u0027pt-acc-val\u0027)%3B%0D%0A%20%20bindRange(\u0027pt-var\u0027%2C%20\u0027pt-var-val\u0027)%3B%0D%0A%20%20document.getElementById(\u0027pt-finish\u0027).addEventListener(\u0027change\u0027%2C%20persist)%3B%0D%0A%0D%0A%20%20function%20persist()%20%7B%0D%0A%20%20%20%20savePrefs(%7B%0D%0A%20%20%20%20%20%20wpm%3A%20%20%20%20%20%20parseInt(document.getElementById(\u0027pt-wpm\u0027).value%2C%2010)%2C%0D%0A%20%20%20%20%20%20accuracy%3A%20parseInt(document.getElementById(\u0027pt-acc\u0027).value%2C%2010)%2C%0D%0A%20%20%20%20%20%20variance%3A%20parseInt(document.getElementById(\u0027pt-var\u0027).value%2C%2010)%2C%0D%0A%20%20%20%20%20%20finish%3A%20%20%20document.getElementById(\u0027pt-finish\u0027).checked%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20--%20Destroy%20--%0D%0A%20%20function%20destroy()%20%7B%0D%0A%20%20%20%20stopRequested%20%3D%20true%3B%0D%0A%20%20%20%20root.remove()%3B%0D%0A%20%20%20%20styleEl.remove()%3B%0D%0A%20%20%7D%0D%0A%20%20document.getElementById(\u0027pt-btn-cancel\u0027).addEventListener(\u0027click\u0027%2C%20destroy)%3B%0A%0D%0A%20%20%2F%2F%20--%20Core%20typing%20engine%20--%0D%0A%20%20var%20running%20%3D%20false%3B%0D%0A%20%20var%20stopRequested%20%3D%20false%3B%0D%0A%20%20var%20nativeSetter%20%3D%20Object.getOwnPropertyDescriptor(HTMLInputElement.prototype%2C%20\u0027value\u0027).set%3B%0D%0A%0D%0A%20%20function%20setStatus(msg)%20%7B%0D%0A%20%20%20%20var%20el%20%3D%20document.getElementById(\u0027pt-status\u0027)%3B%0D%0A%20%20%20%20if%20(el)%20el.textContent%20%3D%20msg%3B%0D%0A%20%20%7D%0D%0A%20%20function%20setProgress(pct)%20%7B%0D%0A%20%20%20%20var%20wrap%20%3D%20document.getElementById(\u0027pt-progress-wrap\u0027)%3B%0D%0A%20%20%20%20var%20bar%20%20%3D%20document.getElementById(\u0027pt-progress-bar\u0027)%3B%0D%0A%20%20%20%20if%20(wrap)%20wrap.style.display%20%3D%20\u0027block\u0027%3B%0D%0A%20%20%20%20if%20(bar)%20%20bar.style.width%20%3D%20pct%20%2B%20\u0027%25\u0027%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20getTypingInput()%20%7B%0D%0A%20%20%20%20var%20all%20%3D%20Array.from(document.querySelectorAll(\u0027input%5Btype%3D%22text%22%5D\u0027))%3B%0D%0A%20%20%20%20return%20all.find(function(el)%20%7B%20return%20!el.id%20%26%26%20!el.className%3B%20%7D)%20%7C%7C%20all%5B0%5D%20%7C%7C%20null%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20getTargetChars()%20%7B%0D%0A%20%20%20%20var%20NBSP%20%3D%20String.fromCharCode(160)%3B%0D%0A%20%20%20%20return%20Array.from(document.querySelectorAll(\u0027.token%20span.token_unit\u0027))%0D%0A%20%20%20%20%20%20.map(function(el)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(el.firstChild%20%26%26%20el.firstChild.classList%20%26%26%20el.firstChild.classList.contains(\u0027_enter\u0027))%20return%20\u0027%5Cn\u0027%3B%0D%0A%20%20%20%20%20%20%20%20return%20el.textContent%5B0%5D%20%7C%7C%20\u0027\u0027%3B%0D%0A%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20.map(function(c)%20%7B%20return%20c%20%3D%3D%3D%20NBSP%20%3F%20\u0027%20\u0027%20%3A%20c%3B%20%7D)%0D%0A%20%20%20%20%20%20.filter(function(c)%20%7B%20return%20c.length%20%3E%200%3B%20%7D)%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20sendChar(chr%2C%20inp)%20%7B%0A%20%20%20%20if%20(chr%20%3D%3D%3D%20\u0027%5Cn\u0027)%20%7B%0A%20%20%20%20%20%20var%20enterOpts%20%3D%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20\u0027Enter\u0027%2C%0A%20%20%20%20%20%20%20%20code%3A%20\u0027Enter\u0027%2C%0A%20%20%20%20%20%20%20%20keyCode%3A%2013%2C%0A%20%20%20%20%20%20%20%20which%3A%2013%2C%0A%20%20%20%20%20%20%20%20charCode%3A%2013%2C%0A%20%20%20%20%20%20%20%20bubbles%3A%20true%2C%0A%20%20%20%20%20%20%20%20cancelable%3A%20true%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keydown\u0027%2C%20enterOpts))%3B%0A%20%20%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keypress\u0027%2C%20enterOpts))%3B%0A%20%20%20%20%20%20inp.dispatchEvent(new%20InputEvent(\u0027input\u0027%2C%20%7B%0A%20%20%20%20%20%20%20%20bubbles%3A%20true%2C%0A%20%20%20%20%20%20%20%20cancelable%3A%20true%2C%0A%20%20%20%20%20%20%20%20data%3A%20null%2C%0A%20%20%20%20%20%20%20%20inputType%3A%20\u0027insertLineBreak\u0027%0A%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keyup\u0027%2C%20enterOpts))%3B%0A%20%20%20%20%20%20nativeSetter.call(inp%2C%20\u0027\u0027)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20nativeSetter.call(inp%2C%20chr)%3B%0A%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keydown\u0027%2C%20%20%7B%20key%3A%20chr%2C%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keypress\u0027%2C%20%7B%20key%3A%20chr%2C%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%20%20%20%20inp.dispatchEvent(new%20InputEvent(\u0027input\u0027%2C%20%20%20%20%20%20%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%2C%20data%3A%20chr%2C%20inputType%3A%20\u0027insertText\u0027%20%7D))%3B%0A%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keyup\u0027%2C%20%20%20%20%7B%20key%3A%20chr%2C%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%20%20%20%20nativeSetter.call(inp%2C%20\u0027\u0027)%3B%0A%20%20%7D%0A%20%20function%20sendBackspace(inp)%20%7B%0A%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keydown\u0027%2C%20%7B%20key%3A%20\u0027Backspace\u0027%2C%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%20%20%20%20inp.dispatchEvent(new%20InputEvent(\u0027input\u0027%2C%20%20%20%20%20%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%2C%20data%3A%20null%2C%20inputType%3A%20\u0027deleteContentBackward\u0027%20%7D))%3B%0A%20%20%20%20inp.dispatchEvent(new%20KeyboardEvent(\u0027keyup\u0027%2C%20%20%20%7B%20key%3A%20\u0027Backspace\u0027%2C%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%20%20%20%20nativeSetter.call(inp%2C%20\u0027\u0027)%3B%0A%20%20%7D%0A%0D%0A%20%20function%20sleep(ms)%20%7B%20return%20new%20Promise(function(r)%20%7B%20setTimeout(r%2C%20ms)%3B%20%7D)%3B%20%7D%0D%0A%20%20function%20wpmToMs(wpm)%20%7B%20return%20Math.round(60000%20%2F%20(wpm%20*%205))%3B%20%7D%0D%0A%20%20function%20jitter(base%2C%20pct)%20%7B%0D%0A%20%20%20%20if%20(pct%20%3D%3D%3D%200)%20return%20base%3B%0D%0A%20%20%20%20var%20r%20%3D%20(Math.random()%20%2B%20Math.random())%20%2F%202%3B%0D%0A%20%20%20%20return%20Math.max(20%2C%20base%20%2B%20(r%20*%202%20-%201)%20*%20base%20*%20(pct%20%2F%20100))%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20Pre-compute%20exactly%20which%20indices%20get%20wrong%20chars%20to%20hit%20target%20accuracy%0D%0A%20%20function%20buildErrorSet(total%2C%20accuracyPct)%20%7B%0D%0A%20%20%20%20var%20errorSet%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20var%20count%20%3D%20Math.round(total%20*%20(1%20-%20accuracyPct%20%2F%20100))%3B%0D%0A%20%20%20%20if%20(count%20%3C%3D%200)%20return%20errorSet%3B%0D%0A%20%20%20%20var%20pool%20%3D%20%5B%5D%3B%0D%0A%20%20%20%20for%20(var%20i%20%3D%203%3B%20i%20%3C%20total%20-%202%3B%20i%2B%2B)%20pool.push(i)%3B%0D%0A%20%20%20%20for%20(var%20j%20%3D%20pool.length%20-%201%3B%20j%20%3E%200%3B%20j--)%20%7B%0D%0A%20%20%20%20%20%20var%20k%20%3D%20Math.floor(Math.random()%20*%20(j%20%2B%201))%3B%0D%0A%20%20%20%20%20%20var%20t%20%3D%20pool%5Bj%5D%3B%20pool%5Bj%5D%20%3D%20pool%5Bk%5D%3B%20pool%5Bk%5D%20%3D%20t%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20var%20placed%20%3D%200%2C%20last%20%3D%20-10%3B%0D%0A%20%20%20%20for%20(var%20n%20%3D%200%3B%20n%20%3C%20pool.length%20%26%26%20placed%20%3C%20count%3B%20n%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20if%20(pool%5Bn%5D%20-%20last%20%3E%3D%203)%20%7B%20errorSet%5Bpool%5Bn%5D%5D%20%3D%20true%3B%20last%20%3D%20pool%5Bn%5D%3B%20placed%2B%2B%3B%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20errorSet%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20randomWrongChar(correct)%20%7B%0A%20%20%20%20if%20(correct%20%3D%3D%3D%20\u0027%5Cn\u0027)%20return%20Math.random()%20%3C%200.5%20%3F%20\u0027%20\u0027%20%3A%20\u0027.\u0027%3B%0A%20%20%20%20var%20alpha%20%3D%20\u0027abcdefghijklmnopqrstuvwxyz\u0027%3B%0A%20%20%20%20var%20digits%20%3D%20\u00270123456789\u0027%3B%0A%20%20%20%20var%20punct%20%3D%20\u0027.%2C!%3F%3B%3A%5C\u0027%22-()%5B%5D%7B%7D%3C%3E%2F%5C%5C%7C%40%23%24%25%5E%26*_%2B%3D%60~\u0027%3B%0A%20%20%20%20var%20src%20%3D%20alpha%3B%0A%20%20%20%20if%20(%2F%5B0-9%5D%2F.test(correct))%20src%20%3D%20digits%3B%0A%20%20%20%20else%20if%20(%2F%5Ba-z%5D%2Fi.test(correct))%20src%20%3D%20alpha%3B%0A%20%20%20%20else%20if%20(!%2F%5Cs%2F.test(correct))%20src%20%3D%20punct%3B%0A%20%20%20%20var%20opts%20%3D%20src.split(\u0027\u0027).filter(function(c)%20%7B%20return%20c.toLowerCase()%20!%3D%3D%20String(correct).toLowerCase()%3B%20%7D)%3B%0A%20%20%20%20if%20(!opts.length)%20opts%20%3D%20alpha.split(\u0027\u0027)%3B%0A%20%20%20%20var%20pick%20%3D%20opts%5BMath.floor(Math.random()%20*%20opts.length)%5D%3B%0A%20%20%20%20if%20(%2F%5BA-Z%5D%2F.test(correct))%20pick%20%3D%20pick.toUpperCase()%3B%0A%20%20%20%20return%20pick%3B%0A%20%20%7D%0A%0D%0A%20%20async%20function%20autoPlay(wpm%2C%20variance%2C%20accuracy%2C%20finish)%20%7B%0D%0A%20%20%20%20var%20chars%20%20%3D%20getTargetChars()%3B%0D%0A%20%20%20%20var%20inp%20%20%20%20%3D%20getTypingInput()%3B%0D%0A%20%20%20%20if%20(!chars.length)%20%7B%20setStatus(\u0027No%20characters%20found.%20Open%20a%20lesson%20first.\u0027)%3B%20resetUI()%3B%20return%3B%20%7D%0D%0A%20%20%20%20if%20(!inp)%20%20%20%20%20%20%20%20%20%20%7B%20setStatus(\u0027Typing%20input%20not%20found.%20Open%20a%20lesson%20first.\u0027)%3B%20resetUI()%3B%20return%3B%20%7D%0D%0A%0D%0A%20%20%20%20inp.focus()%3B%0D%0A%20%20%20%20var%20base%20%20%20%3D%20wpmToMs(wpm)%3B%0D%0A%20%20%20%20var%20total%20%20%3D%20finish%20%3F%20chars.length%20%3A%20chars.length%20-%201%3B%0D%0A%20%20%20%20var%20errors%20%3D%20buildErrorSet(total%2C%20accuracy)%3B%0D%0A%0D%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20total%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20if%20(stopRequested)%20%7B%20setStatus(\u0027Stopped%20at%20\u0027%20%2B%20i%20%2B%20\u0027%20%2F%20\u0027%20%2B%20total%20%2B%20\u0027.\u0027)%3B%20resetUI()%3B%20return%3B%20%7D%0D%0A%20%20%20%20%20%20if%20(errors%5Bi%5D%20%26%26%20chars%5Bi%5D%20!%3D%3D%20\u0027%5Cn\u0027)%20%7B%0A%20%20%20%20%20%20%20%20sendChar(randomWrongChar(chars%5Bi%5D)%2C%20inp)%3B%0A%20%20%20%20%20%20%20%20await%20sleep(Math.max(25%2C%20jitter(base%20*%200.55%2C%20variance)))%3B%0A%20%20%20%20%20%20%20%20sendBackspace(inp)%3B%0A%20%20%20%20%20%20%20%20await%20sleep(Math.max(20%2C%20jitter(base%20*%200.35%2C%20variance)))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20sendChar(chars%5Bi%5D%2C%20inp)%3B%0A%20%20%20%20%20%20if%20(i%20%25%205%20%3D%3D%3D%200)%20%7B%20setStatus(\u0027Typing...%20\u0027%20%2B%20i%20%2B%20\u0027%20%2F%20\u0027%20%2B%20total)%3B%20setProgress(Math.round(i%20%2F%20total%20*%20100))%3B%20%7D%0A%20%20%20%20%20%20await%20sleep(jitter(base%2C%20variance))%3B%0A%20%20%20%20%7D%0D%0A%20%20%20%20setStatus(\u0027Done!%20\u0027%20%2B%20total%20%2B%20\u0027%20chars%20at%20~\u0027%20%2B%20wpm%20%2B%20\u0027%20wpm.\u0027)%3B%0D%0A%20%20%20%20setProgress(100)%3B%0D%0A%20%20%20%20resetUI()%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20function%20resetUI()%20%7B%0D%0A%20%20%20%20running%20%3D%20false%3B%20stopRequested%20%3D%20false%3B%0D%0A%20%20%20%20var%20btns%20%3D%20document.getElementById(\u0027pt-btns\u0027)%3B%0D%0A%20%20%20%20var%20stop%20%3D%20document.getElementById(\u0027pt-btn-stop\u0027)%3B%0D%0A%20%20%20%20if%20(btns)%20btns.style.display%20%3D%20\u0027flex\u0027%3B%0D%0A%20%20%20%20if%20(stop)%20stop.style.display%20%3D%20\u0027none\u0027%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F%2F%20--%20Button%20handlers%20--%0D%0A%20%20document.getElementById(\u0027pt-btn-start\u0027).addEventListener(\u0027click\u0027%2C%20function()%20%7B%0D%0A%20%20%20%20if%20(running)%20return%3B%0D%0A%20%20%20%20persist()%3B%0D%0A%20%20%20%20var%20p%20%3D%20loadPrefs()%3B%0D%0A%20%20%20%20running%20%3D%20true%3B%20stopRequested%20%3D%20false%3B%0D%0A%20%20%20%20document.getElementById(\u0027pt-btns\u0027).style.display%20%3D%20\u0027none\u0027%3B%0D%0A%20%20%20%20document.getElementById(\u0027pt-btn-stop\u0027).style.display%20%3D%20\u0027block\u0027%3B%0D%0A%20%20%20%20setStatus(\u0027Starting...\u0027)%3B%0D%0A%20%20%20%20autoPlay(p.wpm%2C%20p.variance%2C%20p.accuracy%2C%20p.finish)%3B%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%20%20document.getElementById(\u0027pt-btn-stop\u0027).addEventListener(\u0027click\u0027%2C%20function()%20%7B%0D%0A%20%20%20%20stopRequested%20%3D%20true%3B%20setStatus(\u0027Stopping...\u0027)%3B%0D%0A%20%20%7D)%3B%0D%0A%0D%0A%7D)()%3B%0A";
    const bm = document.getElementById('bm');
    const code = document.getElementById('code');
    bm.setAttribute('href', bookmarklet);
    code.textContent = bookmarklet;
  </script>
</body>
</html>